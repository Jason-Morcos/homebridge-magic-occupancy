{
    "pluginAlias": "MagicOccupancy",
    "pluginType": "accessory",
    "schema": {
        "properties": {
            "name": {
                "required": true,
                "title": "Name",
                "type": "string"
            },
            "stayOccupiedDelay": {
                "default": 60,
                "description": "How long in seconds the room should stay occupied after all switches turn off. Set 0 to shutoff as soon as not occupied.",
                "title": "Stay Occupied Delay",
                "type": "number"
            },
            "startOnReboot": {
                "default": false,
                "description": "Whether the occupancy sensor should always initialize as triggered (occupied) on reboot regardless of prior status.",
                "title": "Always Start as Occupied on Reboot",
                "type": "boolean"
            },
            "maxOccupationTimeout": {
                "description": "How long in seconds is the absolute max time a room can stay occupied for (regardless of switch activity). Set 0 or blank to run forever.",
                "title": "Absolute Max Occupation Time (auto-shutoff)",
                "type": "number"
            },
            "statefulSwitchesCount": {
                "default": 1,
                "description": "These switches activate the occupancy sensor immediately and keep the delay timer from resetting as long as the switch is on.",
                "title": "Number of Stateful (manual) Switches",
                "type": "number"
            },
            "triggerSwitchesCount": {
                "default": 1,
                "description": "These switches activate the occupancy sensor immediately and allow the delay timer to start immediately.",
                "title": "Number of Trigger Stateless Switches",
                "type": "number"
            },
            "motionSwitchesCount": {
                "default": 1,
                "description": "These switches should be directly linked to motion sensors (on=on, off=off) and will act like a hybrid of stateful and trigger switches.",
                "title": "Number of Motion Switches",
                "type": "number"
            },
            "statefulStayOnSwitchesCount": {
                "default": 1,
                "description": "These switches will keep the delay timer from starting as long as the switch is on if the occupancy sensor is already on, or they will do nothing if not occupied already.",
                "title": "Number of Stateful Stay-on Switches",
                "type": "number"
            },
            "triggerStayOnSwitchesCount": {
                "default": 1,
                "description": "These switches will reset the delay if the occupancy sensor is already on, or they will do nothing if not occupied already.",
                "title": "Number of Trigger Stateless Stay-on Switches",
                "type": "number"
            },
            "motionStayOnSwitchesCount": {
                "default": 1,
                "description": "These switches should be directly linked to motion sensors (on=on, off=off) and will act like a hybrid of stateful and trigger switches. They will reset the delay if the occupancy sensor is already on, or they will do nothing if not occupied already.",
                "title": "Number of Motion Stay-on Switches",
                "type": "number"
            },
            "ignoreStatefulIfTurnedOnByTrigger": {
                "required": true,
                "default": true,
                "description": "Whether or not stateful switches should be treated like trigger switches if occupation was turned on by a trigger switch.",
                "title": "Ignore Stateful if Turned On By Trigger",
                "type": "boolean"
            },
            "createMasterShutoff": {
                "required": true,
                "default": true,
                "description": "Whether or not to create a master shutoff switch. Master shutoff toggled off kills occupancy immediately when toggled on.",
                "title": "Create Master Shutoff",
                "type": "boolean"
            }
        },
        "type": "object"
    },
    "singular": false
}
